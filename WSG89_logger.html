<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>WSG89_logger – Arctic LTER Live Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9bb8637fc4fecd11f63145b6d558c259.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Arctic LTER Live Data</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mat06_loggers.html"> 
<span class="menu-text">Mat06 loggers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Toolik_lake_inlet.html"> 
<span class="menu-text">Toolik Lake &amp; Inlet Stations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./other_loggers.html"> 
<span class="menu-text">Other logger sites</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ARC-LTER/live_data"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#documentation" id="toc-documentation" class="nav-link active" data-scroll-target="#documentation">Documentation</a></li>
  <li><a href="#online-data." id="toc-online-data." class="nav-link" data-scroll-target="#online-data.">Online data.</a></li>
  <li><a href="#air-temperature-rh-and-battery" id="toc-air-temperature-rh-and-battery" class="nav-link" data-scroll-target="#air-temperature-rh-and-battery">Air Temperature, RH, and Battery</a></li>
  <li><a href="#soil-temperatures" id="toc-soil-temperatures" class="nav-link" data-scroll-target="#soil-temperatures">Soil Temperatures</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ARC-LTER/live_data/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">WSG89_logger</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="documentation" class="level1">
<h1>Documentation</h1>
<div class="card">
<p><strong>Initial setup.</strong></p>
<p>Experiment plots setup:</p>
<p>In 1989, in a randomized block design (5-meter by 10-meter plots) with the following treatments:</p>
<p>CT - Control untreated plot. NP - 10 gm N per meter squared of 34 - 0 - 0 nitrogen fertilizer (34% ammonium nitrate ) plus 5 P gm per meter squared of 0 - 45 - 0 fertilizer (45% P as P2O5). N - 10 gm N per meter squared of 34 - 0 - 0 nitrogen fertilizer (34% ammonium nitrate ) only. P - 5 P gm per meter squared of 0 - 45 - 0 fertilizer (45% P as P2O5)only. GH - Warming treatment using a simple 2.4 m x 4.9 m wood frame covered by commercial greenhouse plastic. GHNP - Warming with NP treatment. SH - Shading experiment using a 2.4 m x 4.9 m wood frame covered by 50% shade cloth.</p>
<p>Logger setup:</p>
<p>In June 1994, a data logger and sensors for weather and soil temperatures were installed in block 1. Air temperature and relative humidity at 3 meters and soil temperatures at surface, 10, and 25 cm depths are collected on the following treatment plots: control, nitrogen alone, phosphorus alone, nitrogen plus phosphorus, and greenhouse. Air temperature and relative humidity are read every minute and averaged every hour, while soil temperatures are read every 3 minutes and averaged every 4 hours. The shade and greenhouse covers are only installed from June through August.</p>
<p><strong>Notes</strong></p>
<p>Shade and greenhouses are not covered year-round. They are covered in early June and uncovered in mid-August. The sensors are up year-round.</p>
<p>When the air temperature drops below -39 Celsius, the “CT Air 107” probe is used to replace the “CT Air Temp” value.</p>
<p>Occasional erratic soil temperature values occur when the air temperature is below -30. This is caused by inaccurate reference temperature at temperatures below -30. Values have not been corrected.</p>
<p><strong>Log of Changes</strong></p>
<p>During the winter of 1994-1995, a program error caused the data from 20Aug94 to 28Mar95 to be lost. Data was also lost during winter 1995-1996.<br>
1996 - Relative humidity is low, never reaching above 90%. Data were not corrected. RH sensor replaced summer of 1996.<br>
1999 18 Aug Changed out the 207 temp/RH sensor, replacing it with a CS500. Since the CS500 only goes to -39 °C, the 207 is used to measure the temperatures below -40 °C and as a backup. Note that the 207 measurement error below -40 °C is large. See Campbell’s manual on the 207/107. The 207 was discontinued since the RH sensor is no longer available.<br>
2001 Added a subroutine to calculate the reference and air 107 temperature probes using a Steinhart-Hart equation: The voltage of a 107 probe is converted to resistance then converted to both Kelvin and Celsius using 1/T= A + B ln Rs + C(lnRs)^3 where T = Kelvin and A, B, and C are constants derived from the temperature vs resistance data of the Fenwell thermistors. Rs is the measured resistance. This will improve the accuracy of temperatures below -30–30C. The station lost power. Using a regression with Toolik Field Station Air 5 meters to estimate the CT Air Temp<br>
2000 Station lost power from 2000-08-19 13:00 to 2000-08-22 16:00. Using a regression with Toolik Field Station Air 5 meters to estimate the “CT Air Temp”.<br>
2002 The control relative humidity sensor stopped working. Not sure why.<br>
2003 The data logger stopped collecting data from Feb through May. The temperature and RH sensors failed from May to August due to a faulty splice in the cable. The 3 meter temperature was not replaced until June 2004<br>
2004 The 3 meter temperature/RH probe replace June with the same model - CS500<br>
2011 Lost power from 4Aug to 6Aug caused by a corroded battery wire. 2012 Replace 207 with a 107 Thermistor. The old 207 cable was cracking. The 107 is in the same shield as the CS500.<br>
2014-03-21 Changed soil output to every hour with reads every 120 sec.&nbsp;Seeing if this will give smoother temperature values. Jim L<br>
2015 Jan added panel temperature average to output. Trying to see if this is causing jumpy soil temps. Jim L<br>
2015 May Corrected the coefficients on the Steinhart equation. The thermistor is a newer one (Belatherm 100k6A). Jim L<br>
2015 Aug Redid the subroutine for calculating the Steinhart Hart equation based on the Campbells Scientific’s 109 manual. Using a half bridge to read the 107 See notes in Sub 3 Changed the soil to 3 hour averages. Jim L<br>
2019 Aug Changed logger to a CR23XPB. It now usees the PakBus radio Network and will have room for more soil temperature probes. Jim L</p>
<p><strong>Equipment Description</strong>:</p>
<p><strong>List of manufacturers and suppliers.</strong></p>
<p>Campbell Scientific Inc.&nbsp;81 W. 1800 N. Logan, Utah 84321-1784 (435)750-1739<br>
Data Loggers CR10, CR10x, and CR1000.<br>
Air temperature 107<br>
Air temperature and relative humidity HMP50</p>
<p>LiCor 4647 Superior Street PO Box 4425 Lincoln, NE 68504<br>
PAR LI-190SB</p>
<p>Omega Engineering, Copper-Constantan thermocouple wire. Range -200 to 350 °C. Limits of error: Standard wire 1.0°C or 0.75% above 0°C and 1.0°C or 1.5% below 0°C. Special wire 0.5°C or 0.4%. Omega Engineering, Inc.&nbsp;P.O. Box 4047 Stamford, CT 06907-0047 (800)826-6342</p>
<section id="current-table" class="level2">
<h2 class="anchored" data-anchor-id="current-table">Current Table</h2>
<section id="hourly-table" class="level3">
<h3 class="anchored" data-anchor-id="hourly-table"><strong>Hourly Table</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 50%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
<th>Units</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>timestamp</td>
<td>Date and Time - Alaska standard time 2400 format</td>
<td>YYYY-MM-DD hh:mm</td>
</tr>
<tr class="even">
<td>CT_Air_Temp_3m</td>
<td>Hourly average temperature in the control plot at 3 meters.</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>GH_Air_Temp_1m</td>
<td>Hourly average temperature in the control greenhouse at about 1 meter above the moss/sedge surface.</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>CT_RH_3m</td>
<td>Hourly average relative humidity in the control plot at 3 meters</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>GH_RH_1m</td>
<td>Hourly average relative humidity in the control greenhouse at about 1 meter.</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>CT_air_107_3m</td>
<td>This sensor, Campbell 107, was added when, in August 1999, a Campbell CS500 replaced the Campbell 207 as a temperature/rh sensor. It will record temperatures below 39 °C and is used to fill the meter CS5000 when temperatures drop below 39 °CC. In 2001, added a subroutine to calculate the reference and air 107 temperature probes using a Steinhart-Hart equation: The voltage of a 107 probe is converted to resistance then converted to both Kelvin and Celsius using 1/T= A + B ln Rs + C(lnRs)^3 where T = Kelvin and A,B and C are constants derived from the temperature vs resistance data of the Fenwell thermistors. Rs is the measured resistance. This will improve the accuracy of temperatures below 30 °CC.</td>
<td>celsius</td>
</tr>
</tbody>
</table>
</section>
<section id="three-hourly-table" class="level3">
<h3 class="anchored" data-anchor-id="three-hourly-table"><strong>Three Hourly Table</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 33%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Variable</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Units</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>timestamp</td>
<td>Date and Time Alaska standard time</td>
<td>Date and Time - Alaska standard time 2400 format</td>
</tr>
<tr class="even">
<td>NP sur</td>
<td>NP plot soil temp within 1 cm Celsius</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>NP 5CM</td>
<td>NP plot soil temp at 5 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>NP 10CM</td>
<td>NP plot soil temp at 10 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>NP 25 CM</td>
<td>NP plot soil temp at 25 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>GH sur</td>
<td>GH plot soil temp within 1 cm Celsius</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>GH 5CM</td>
<td>GH plot soil temp at 5 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>GH 10CM</td>
<td>GH plot soil temp at 10 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>GH 25 CM</td>
<td>GH plot soil temp at 25 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>N sur</td>
<td>N plot soil temp within 1 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>N 5CM</td>
<td>N plot soil temp at 5 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>N 10CM</td>
<td>N plot soil temp at 10 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>N 25 CM</td>
<td>N plot soil temp at 25 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>P sur</td>
<td>P plot soil temp within 1 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>P 5CM</td>
<td>P plot soil temp at 5 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>P 10CM</td>
<td>P plot soil temp at 10 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>P 25 CM</td>
<td>P plot soil temp at 25 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>CT sur</td>
<td>CT plot soil temp within 1 cm Celsius</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>CT 5CM</td>
<td>CT plot soil temp at 5 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>CT 10CM</td>
<td>CT plot soil temp at 10 cm</td>
<td>celsius</td>
</tr>
<tr class="odd">
<td>CT 25 CM</td>
<td>CT plot soil temp at 25 cm</td>
<td>celsius</td>
</tr>
<tr class="even">
<td>BATTERY</td>
<td>Battery volts</td>
<td>volt</td>
</tr>
</tbody>
</table>
</section>
</section>
</div>
</section>
<section id="online-data." class="level1">
<h1>Online data.</h1>
<ul>
<li><p>Laundre, J. 2022. Hourly weather data from the Arctic LTER Wet Sedge Inlet Experimental plots from 1994 to present, Toolik Field Station, North Slope, Alaska. ver 5. Environmental Data Initiative. https://doi.org/10.6073/pasta/87bb699469101659867f951b69219c37</p></li>
<li><p>Laundre, J. and G. Shaver. 2022. Soil temperature data collected from the Arctic LTER wet sedge experimental site Toolik Field Station North Slope, Alaska from 1994 to 2020 ver 7. Environmental Data Initiative. https://doi.org/10.6073/pasta/b9042efc729ffb531bdb3974cb6d866c</p></li>
</ul>
</section>
<section id="air-temperature-rh-and-battery" class="level1">
<h1>Air Temperature, RH, and Battery</h1>
<p><strong>Note:</strong> <u><strong>These data are provisional and have not been error-checked.</strong></u> The weather station’s time is set to Alaska Standard Time and is not adjusted for Daylight Saving Time. Data are hourly or half-hourly averages. <embed src="other_sites/WSG89met.html" style="width:100.0%" height="800"></p>
</section>
<section id="soil-temperatures" class="level1">
<h1>Soil Temperatures</h1>
<p><strong>Note:</strong> <u><strong>These data are provisional and have not been error-checked.</strong></u> The weather station’s time is set to Alaska Standard Time and is not adjusted for Daylight Saving Time. Data are three-hourly or averages. <embed src="other_sites/WSG89soil.html" style="width:100.0%" height="800"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/LTER-ARC\.github\.io\/live_data\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Arctic LTER</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ARC-LTER/live_data/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>